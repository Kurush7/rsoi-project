webpackJsonp([1],{"+gtf":function(t,e,i){t.exports=i.p+"static/img/default_book.5bbec3c.png"},"/+hy":function(t,e,i){t.exports=i.p+"static/img/default_user.b748346.png"},"/wga":function(t,e,i){t.exports=i.p+"static/img/pen_icon.4ea5cbb.png"},"75l9":function(t,e){t.exports={name:"axios",version:"0.21.4",description:"Promise based HTTP client for the browser and node.js",main:"index.js",scripts:{test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},repository:{type:"git",url:"https://github.com/axios/axios.git"},keywords:["xhr","http","ajax","promise","node"],author:"Matt Zabriskie",license:"MIT",bugs:{url:"https://github.com/axios/axios/issues"},homepage:"https://axios-http.com",devDependencies:{coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},jsdelivr:"dist/axios.min.js",unpkg:"dist/axios.min.js",typings:"./index.d.ts",dependencies:{"follow-redirects":"^1.14.0"},bundlesize:[{path:"./dist/axios.min.js",threshold:"5kB"}]}},"7bMF":function(t,e,i){t.exports=i.p+"static/img/author_default.28726e7.png"},"9M+g":function(t,e){},DQ9D:function(t,e){},DtXK:function(t,e,i){t.exports=i.p+"static/img/default_series.ae73985.png"},"F+aY":function(t,e){t.exports="data:image/png;base64,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"},FlrZ:function(t,e,i){t.exports=i.p+"static/img/qrook_white.3ca2614.png"},Jmt5:function(t,e){},JqOu:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("Tqaz"),r=(i("Jmt5"),i("9M+g"),i("7+uW")),o=i("mtWM");i("Dvw3").config();var s=o.create({baseURL:"http://api.kurush7.cloud.okteto.net/api/v2/",headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PATCH, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token"}});function a(t){console.log("setting token",t),localStorage.setItem("auth_token",t),s.defaults.headers.common.Authorization="Bearer "+t}function l(){localStorage.removeItem("auth_token"),s.defaults.headers.common.Authorization=void 0,delete s.defaults.headers.common.Authorization}function c(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],localStorage.getItem("auth_token")}var u=i("RUzx"),d={name:"FilterSidebar",data:function(){return{toggler:0,search:"",bookToggle:!0,seriesToggle:!0,authorToggle:!0,language:{selected:null,options:[{value:null,text:"Любой"},{value:"ru",text:"Русский"},{value:"en",text:"Английский"}]},file_format:{selected:null,options:[{value:null,text:"Любой"},{value:"fb2",text:"fb2"},{value:"zip",text:"zip"},{value:"epub",text:"epub"}]},sort:{selected:"date_desc",options:[{value:"date_desc",text:"По дате добавления - сначала новые"},{value:"name_acc",text:"По названию (имени) - а..я"},{value:"name_desc",text:"По названию (имени) - я..а"},{value:"date_acc",text:"По дате добавления - сначала старые"}]},genres:{selected:null,options:["приключения","фэнтези","фантастика","юмор","романы","детектив","поэзия","наука"]}}},created:function(){var t=this;this.$parent.$on("clear_filters",this.clearFilters),this.$parent.$on("receive_search",function(e){t.search=e}),document.addEventListener("click",this.clicked),this.applyFilters()},destroyed:function(){document.removeEventListener("click",this.clicked)},components:{Multiselect:i.n(u).a},methods:{searchCall:function(){var t=this;c("using_filters",{filters:this.applyFilters()}),setTimeout(function(){t.$refs.dropdown.hide(!0),t.my_hide()},100),this.$router.push("/main").catch(function(){})},enterClicked:function(){this.$refs.filters_search_btn.click()},search_update:function(t){this.$emit("set_search",t)},my_hide:function(t){this.toggler=0},clicked:function(t){if(this.$refs.dropdown.isOpen&&(this.toggler+=1,1!==this.toggler)){var e=document.getElementById("filter-sidebar"),i=t.target;e===i||e.contains(i)||(this.$refs.dropdown.hide(!0),this.my_hide())}},addTag:function(t){var e=t;this.genres.options.push(e),this.genres.selected.push(e)},clearFilters:function(){this.bookToggle=!0,this.seriesToggle=!0,this.authorToggle=!0,this.language.selected=null,this.file_format.selected=null,this.sort.selected="date_desc",this.genres.selected=null,this.search="",this.applyFilters()},applyFilters:function(){var t=null;this.genres.selected&&(t=this.genres.selected.join(";"));var e={find_book:this.bookToggle,find_series:this.seriesToggle,find_author:this.authorToggle,language:this.language.selected,format:this.file_format.selected,sort:this.sort.selected,genres:t,search:this.search};for(var i in e)null===e[i]&&delete e[i];return this.$store.dispatch("filters/set_filters",e),e}}},p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-sidebar",{ref:"dropdown",attrs:{id:"filter-sidebar",title:"Параметры поиска",shadow:""},on:{hidden:t.my_hide}},[i("button",{staticClass:"toggleFilterButton btn",class:{"btn-primary":t.bookToggle,"btn-outline-primary":!t.bookToggle},attrs:{pill:""},on:{click:function(e){t.bookToggle=!t.bookToggle}}},[t._v("Книги\n    ")]),t._v(" "),i("button",{staticClass:"toggleFilterButton btn",class:{"btn-primary":t.seriesToggle,"btn-outline-primary":!t.seriesToggle},on:{click:function(e){t.seriesToggle=!t.seriesToggle}}},[t._v("Серии\n    ")]),t._v(" "),i("button",{staticClass:"toggleFilterButton btn",class:{"btn-primary":t.authorToggle,"btn-outline-primary":!t.authorToggle},on:{click:function(e){t.authorToggle=!t.authorToggle}}},[t._v("Авторы\n    ")]),t._v(" "),i("b-form-input",{staticStyle:{"max-width":"280px","margin-left":"20px","margin-bottom":"20px"},attrs:{placeholder:"Поиск"},on:{input:t.search_update,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enterClicked.apply(null,arguments)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),i("div",{staticClass:"px-3 py-2",staticStyle:{"text-align":"left"}},[i("div",{staticClass:"filter_tag"},[i("b",[t._v("Язык:")])]),t._v(" "),i("b-form-select",{staticClass:"filter_form",attrs:{options:t.language.options},model:{value:t.language.selected,callback:function(e){t.$set(t.language,"selected",e)},expression:"language.selected"}}),t._v(" "),i("div",{staticClass:"filter_tag"},[i("b",[t._v("Формат файла:")])]),t._v(" "),i("b-form-select",{staticClass:"filter_form",attrs:{options:t.file_format.options},model:{value:t.file_format.selected,callback:function(e){t.$set(t.file_format,"selected",e)},expression:"file_format.selected"}}),t._v(" "),i("div",{staticClass:"filter_tag"},[i("b",[t._v("Сортировать по:")])]),t._v(" "),i("b-form-select",{staticClass:"filter_form",attrs:{options:t.sort.options},model:{value:t.sort.selected,callback:function(e){t.$set(t.sort,"selected",e)},expression:"sort.selected"}}),t._v(" "),i("div",[i("label",{staticClass:"filter_tag"},[i("b",[t._v("Жанры")])]),t._v(" "),i("multiselect",{staticClass:"filter_form",attrs:{placeholder:"Выберите жанры книг",options:t.genres.options,multiple:!0,taggable:!0,selectLabel:"добавить",deselectLabel:"удалить",selectedLabel:""},on:{tag:t.addTag},model:{value:t.genres.selected,callback:function(e){t.$set(t.genres,"selected",e)},expression:"genres.selected"}})],1),t._v(" "),i("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.filter-sidebar",modifiers:{"filter-sidebar":!0}}],ref:"filters_search_btn",on:{click:t.searchCall}},[t._v("Найти")]),t._v(" "),i("div",[i("a",{staticStyle:{color:"black",cursor:"pointer"},on:{click:t.clearFilters}},[t._v("очистить фильтры")])])],1)],1)],1)},staticRenderFns:[]};var h=i("VU/8")(d,p,!1,function(t){i("XJ9U"),i("JqOu")},"data-v-fa2dceac",null).exports,f=i("wxAW"),m=i.n(f),_=i("Zx67"),g=i.n(_),v=i("Zrlr"),b=i.n(v),k=i("zwoO"),A=i.n(k),w=i("Pf15"),S=i.n(w),x=function t(e){b()(this,t),this.ok=e},C=i("1nuA");i("Dvw3").config();var y=function(t){function e(t,i,n){b()(this,e);var r=A()(this,(e.__proto__||g()(e)).call(this,t));return r.access_token=i,r.id_token=n,r}return S()(e,t),e}(x),I=function(t){function e(t,i){b()(this,e);var n=A()(this,(e.__proto__||g()(e)).call(this,t));return n.token=i,n}return S()(e,t),e}(x),J=function(t){function e(t,i,n){b()(this,e);var r=A()(this,(e.__proto__||g()(e)).call(this,t));return r.reason=i,r.token=n,r}return S()(e,t),e}(x),E=function(t){function e(t,i){b()(this,e);var n=A()(this,(e.__proto__||g()(e)).call(this,t));return n.reason=i,n}return S()(e,t),e}(x),B=function(t){function e(t,i){b()(this,e);var n=A()(this,(e.__proto__||g()(e)).call(this,t));return n.reason=i,n}return S()(e,t),e}(x),Z=function(t){function e(t,i,n){b()(this,e);var r=A()(this,(e.__proto__||g()(e)).call(this,t));return r.reason=i,n?(r.name=n.name,r.last_name=n.last_name,r.avatar=n.avatar,r.email=n.email,r.login=n.login,r.password=n.password,r):A()(r)}return S()(e,t),e}(x),D=function(t){function e(t,i,n){b()(this,e);var r=A()(this,(e.__proto__||g()(e)).call(this,t));return r.reason=i,n?(r.downloads_cnt=n.downloads_cnt,r.search_cnt=n.search_cnt,r.most_frequent_search=n.most_frequent_search,r.views_cnt=n.views_cnt,r.most_frequent_entities=n.most_frequent_entities,r):A()(r)}return S()(e,t),e}(x),F=new(function(){function t(){b()(this,t),this.client_id="pRiDvVWqbMdVcqUcubD0Y54V",this.client_secret="tMWy9xDK6CaCe6LfqpO3BIqkjVgm8eEUnMLAdHaV5IO32Riu",console.log(Object({NODE_ENV:"production",API_URL:"http://api.kurush7.cloud.okteto.net/api/v2/",CLIENT_ID:"pRiDvVWqbMdVcqUcubD0Y54V",CLIENT_SECRET:"tMWy9xDK6CaCe6LfqpO3BIqkjVgm8eEUnMLAdHaV5IO32Riu"}))}return m()(t,[{key:"make_oidc_auth_url",value:function(){var t=C.stringify({client_id:this.client_id,scope:"openid profile",response_type:"code"});return s.defaults.baseURL+"oauth/authorize?"+t}},{key:"get_token",value:function(t,e){var i={auth:{username:this.client_id,password:this.client_secret}},n=new FormData;n.append("grant_type","authorization_code"),n.append("code",t),s.post("oauth/token",n,i).then(function(t){var i=t.data.access_token,n=t.data.id_token;e(new y(!0,i,n))}).catch(function(t){console.log(t.message),e(new y(!1,null,null))})}},{key:"login",value:function(t,e,i){s.post("users/login",{login:t,password:e}).then(function(t){var e=t.data.access_token;i(new I(!0,e))}).catch(function(t){console.log(t.message),i(new I(!1,null))})}},{key:"user_info",value:function(t){s.get("users",{params:{}}).then(function(e){t(new Z(!0,null,e.data))}).catch(function(e){console.log(e.message);var i="unknown error";e.response&&(i=e.response.data),t(new Z(!1,i,null))})}},{key:"register",value:function(t,e){s.post("users",t).then(function(t){e(new J(!0,null,t.data))}).catch(function(t){console.log(t.message);var i="unknown error";t.response&&(i=t.response.data),e(new J(!1,i,null))})}},{key:"update_profile",value:function(t,e){s.put("users",t).then(function(t){e(new B(!0,null))}).catch(function(t){console.log(t.message);var i="unknown error";t.response&&(i=t.response.data),e(new B(!1,i))})}},{key:"delete_profile",value:function(t){s.delete("users").then(function(e){t(new E(!0,null))}).catch(function(e){console.log(e.message);var i="unknown error";e.response&&(i=e.response.data),t(new E(!1,i))})}},{key:"generate_report",value:function(t,e,i){s.get("report",{params:{time_start:t,time_end:e}}).then(function(t){i(new D(!0,null,t.data))}).catch(function(t){console.log(t.message);var e="unknown error";t.response&&(e=t.response.data),i(new D(!1,e,null))})}}]),t}());function R(t){F.user_info(function(e){e.ok?t.$store.dispatch("account/user_info",e):"token expired"===e.reason&&(t.$store.dispatch("account/logout"),t.$router.push("/auth"))})}var Q={name:"Header",data:function(){return{search:"",show_search:!0}},computed:{user_info:function(){return this.$store.state.account.user_info},logged_in:function(){return this.$store.state.account.logged_in},name:function(){return this.user_info?this.user_info.name:null},last_name:function(){return this.user_info?this.user_info.last_name:null},avatar:function(){return this.user_info?this.user_info.avatar:null},show_account:function(){return this.logged_in},full_name:function(){return this.name+" "+this.last_name}},created:function(){null!==localStorage.getItem("auth_token")&&(this.$store.dispatch("account/login"),R(this))},methods:{enterClicked:function(){this.$refs.header_search_btn.click()},set_search:function(t){this.search=t},go_home:function(){this.search="",this.$emit("clear_filters"),this.$router.push("/main").catch(function(){})},setSearch:function(){this.$emit("clear_filters"),this.$store.dispatch("filters/set_search",this.search),c("searching",{search:this.search})},login:function(){this.$router.push("/auth")},logout:function(){c("logout"),l(),this.$store.dispatch("account/logout")}},components:{FilterSidebar:h}},U={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-secondary",staticStyle:{height:"10%"}},[n("b-row",{staticClass:"text-center",staticStyle:{"max-width":"100%"},attrs:{"align-v":"center","align-h":"center"}},[n("b-col",{attrs:{cols:"3"}},[n("img",{staticStyle:{height:"75px",cursor:"pointer"},attrs:{src:i("FlrZ")},on:{click:t.go_home}})]),t._v(" "),n("b-col",{attrs:{cols:"7"}},[n("b-row",[t.show_search?n("b-col",{attrs:{cols:"5"}},[n("b-form-input",{attrs:{placeholder:"Поиск"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enterClicked.apply(null,arguments)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1):t._e(),t._v(" "),n("b-col",{attrs:{cols:"2"}},[n("b-button",{ref:"header_search_btn",attrs:{type:"submit"},on:{click:t.setSearch}},[n("b",[t._v("Найти")])])],1),t._v(" "),n("b-col",{attrs:{cols:"2"}},[n("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.filter-sidebar",modifiers:{"filter-sidebar":!0}}],on:{click:function(e){return t.$emit("receive_search",t.search)}}},[n("b",[t._v("Фильтры")])]),t._v(" "),n("FilterSidebar",{attrs:{search:t.search},on:{set_search:t.set_search}})],1)],1)],1),t._v(" "),n("b-col",{staticClass:"my-2",attrs:{cols:"2"}},[n("b-row",{attrs:{"align-h":"center"}},[t.show_account?t._e():n("b-button",{staticClass:"my-2",attrs:{pill:"",variant:"primary"},on:{click:t.login}},[t._v("Войти")]),t._v(" "),t.show_account?n("b-col",[n("b-avatar",{attrs:{button:"",id:"popover-target-1",size:"60px"}}),t._v(" "),n("b-popover",{attrs:{target:"popover-target-1",triggers:"hover",placement:"bottom","boundary-padding":"1"}},[n("b-card",[n("b-col",[n("p",[t._v(t._s(t.full_name))]),t._v(" "),n("router-link",{attrs:{to:"/account"}},[t._v("Профиль")]),t._v(" "),n("a",{staticClass:"primary-color",staticStyle:{cursor:"pointer"},on:{click:t.logout}},[t._v("Выйти")])],1)],1)],1)],1):t._e()],1)],1)],1)],1)},staticRenderFns:[]},V={name:"App",data:function(){return{enable_footer:!1,enable_header:!0,ignore_push_main:!0}},components:{Header:i("VU/8")(Q,U,!1,null,null,null).exports},computed:{},beforeCreate:function(){var t=localStorage.getItem("auth_token"),e=this.$router.currentRoute.name;t&&"Home"===e&&this.$router.push("/main").catch(function(){})},created:function(){var t=localStorage.getItem("auth_token");t&&a(t),"Home"===this.$router.currentRoute.name?(this.enable_header=!1,this.enable_footer=!0):this.ignore_push_main=!1},methods:{from_home:function(){this.ignore_push_main=!1,this.enable_header=!0,this.enable_footer=!1}}},O={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[t.enable_header?i("Header"):t._e(),t._v(" "),i("router-view",{on:{from_home:t.from_home}}),t._v(" "),t.enable_footer?i("footer",{attrs:{id:"footer"}},[t._m(0)]):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this._v("\n      Icons made by "),e("a",{attrs:{href:"https://www.freepik.com",title:"Freepik"}},[this._v("Freepik")]),this._v(" from "),e("a",{attrs:{href:"https://www.flaticon.com/",title:"Flaticon"}},[this._v("www.flaticon.com")])])}]};var q=i("VU/8")(V,O,!1,function(t){i("XQ2P")},null,null).exports,P=i("/ocq"),L={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this._m(0),this._v(" "),e("div",{staticStyle:{display:"inline-block","max-width":"500px","margin-top":"50px","font-size":"20px"}},[this._v("\n    QRook помогает вам быстро найти книги на нужном языке и в удобном формате.\n    Используйте возможности группировки книг по сериям, авторам и жанрам для эффективного\n    поиска.\n  ")]),this._v(" "),e("div",{staticStyle:{"margin-top":"50px"}},[e("b-button",{attrs:{variant:"primary",size:"lg"},on:{click:this.go_main}},[this._v("Начать пользоваться")])],1),this._v(" "),e("h2")])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("img",{attrs:{src:i("crIH"),width:"30%"}})])}]},H=i("VU/8")({name:"Home",methods:{go_main:function(){this.$emit("from_home"),this.$router.push("main").catch(function(){})}}},L,!1,null,null,null).exports,T={data:function(){return{form:{login:"",password:""},failed:!1}},computed:{isError:function(){return this.failed}},methods:{onSubmit:function(t){var e=this;t.preventDefault();F.login(this.form.login,this.form.password,function(t){e.failed=!t.ok,e.failed||(a(t.token),e.$store.dispatch("account/login"),R(e),c("login"),e.$router.go(-1))})}}},j={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("span",{staticClass:"before"}),t._v(" "),i("div",{staticClass:"d-flex align-items-center justify-content-center",staticStyle:{width:"100%",height:"100%",display:"inline-block","vertical-align":"middle"}},[i("b-form",{on:{submit:t.onSubmit}},[i("b-form-group",{attrs:{id:"input-group-1",label:"Логин:","label-for":"input-1","label-align":"right","content-cols":"8"}},[i("b-form-input",{attrs:{id:"input-1",placeholder:"Введите логин",required:""},model:{value:t.form.login,callback:function(e){t.$set(t.form,"login",e)},expression:"form.login"}})],1),t._v(" "),i("b-form-group",{attrs:{id:"input-group-2",label:"Пароль:","label-for":"input-2","label-align":"right","content-cols":"8"}},[i("b-form-input",{attrs:{id:"input-2",placeholder:"Введите пароль",required:""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),t.failed?i("p",{staticClass:"error_logging"},[t._v(" Некорректные логин или пароль ")]):t._e(),t._v(" "),i("b-button",{attrs:{type:"submit",block:"",variant:"primary"}},[t._v("Войти")]),t._v(" "),i("b-container",{attrs:{fluid:""}},[i("router-link",{attrs:{to:"/register"}},[t._v("Зарегистрироваться")])],1)],1)],1)])},staticRenderFns:[]},z=(i("VU/8")(T,j,!1,null,null,null).exports,{created:function(){window.location.href=F.make_oidc_auth_url()}}),M={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n  OIDC auth\n")])},staticRenderFns:[]},K=i("VU/8")(z,M,!1,null,null,null).exports,W={data:function(){return{form:{name:"",last_name:"",email:"",login:"",password:"",repeated_password:""},failed:""}},computed:{check_password:function(){return this.form.password.length>=6},check_password_eq:function(){return this.form.password===this.form.repeated_password}},methods:{on_submit:function(t){var e=this;t.preventDefault();F.register({name:this.form.name,last_name:this.form.last_name,email:this.form.email,login:this.form.login,password:this.form.password},function(t){e.failed=t.reason,e.failed||(console.log("token"),a(t.token),e.$store.dispatch("account/login"),R(e),c("register"),e.$router.push("main"))})}}},G={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("span",{staticClass:"before"}),t._v(" "),i("div",{staticClass:"d-flex align-items-center justify-content-center",staticStyle:{width:"100%",height:"100%",display:"inline-block","vertical-align":"middle"}},[i("b-form",{on:{submit:t.on_submit}},[i("b-form-group",{attrs:{id:"input-group-1",label:"Имя:","label-for":"input-1","label-align":"right","content-cols":"8"}},[i("b-form-input",{attrs:{id:"input-1",placeholder:"Введите имя",required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),i("b-form-group",{attrs:{id:"input-group-6",label:"Фамилия:","label-for":"input-6","label-align":"right","content-cols":"8"}},[i("b-form-input",{attrs:{id:"input-6",placeholder:"Введите фамилию",required:""},model:{value:t.form.last_name,callback:function(e){t.$set(t.form,"last_name",e)},expression:"form.last_name"}})],1),t._v(" "),i("b-form-group",{attrs:{id:"input-group-2",label:"Логин:","label-for":"input-2","label-align":"right","content-cols":"8"}},[i("b-form-input",{attrs:{id:"input-2",placeholder:"Введите логин",required:""},model:{value:t.form.login,callback:function(e){t.$set(t.form,"login",e)},expression:"form.login"}})],1),t._v(" "),i("b-form-group",{attrs:{id:"input-group-3",label:"Эл. почта:","label-for":"input-3","label-align":"right","content-cols":"8"}},[i("b-form-input",{attrs:{id:"input-3",type:"email",placeholder:"Введите эл. почту",required:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),t._v(" "),i("b-form-group",{attrs:{id:"input-group-4",label:"Пароль:","label-for":"input-4","label-align":"right","content-cols":"8"}},[i("b-form-input",{attrs:{id:"input-4",state:t.check_password,"aria-describedby":"input-live-help password-feedback",placeholder:"Введите пароль",type:"password",required:""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),t._v(" "),i("b-form-invalid-feedback",{attrs:{id:"password-feedback"}},[t._v("\n          Пароль должен быть не короче 6 символов\n        ")])],1),t._v(" "),i("b-form-group",{attrs:{id:"input-group-5",label:"Подтвердите пароль:","label-for":"input-5","label-align":"right","content-cols":"8"}},[i("b-form-input",{attrs:{id:"input-5",state:t.check_password_eq,"aria-describedby":"input-live-help password-eq-feedback",placeholder:"Введите пароль еще раз",type:"password",required:""},model:{value:t.form.repeated_password,callback:function(e){t.$set(t.form,"repeated_password",e)},expression:"form.repeated_password"}}),t._v(" "),i("b-form-invalid-feedback",{attrs:{id:"password-eq-feedback"}},[t._v("\n          Пароли должны совпадать\n        ")])],1),t._v(" "),t.failed?i("p",{staticClass:"error_logging"},[t._v(" Ошибка регистрации: "+t._s(t.failed))]):t._e(),t._v(" "),i("b-button",{attrs:{type:"submit",block:"",variant:"primary"}},[t._v("Зарегистрироваться\n      ")]),t._v(" "),i("b-container",{attrs:{fluid:""}},[i("router-link",{attrs:{to:"/auth"}},[t._v("Войти")])],1)],1)],1)])},staticRenderFns:[]},Y=(i("VU/8")(W,G,!1,null,null,null).exports,i("fZjL")),N=i.n(Y),X=i("woOf"),$=i.n(X),tt=i("BO1k"),et=i.n(tt);function it(t){var e=[];if(!t)return[];var i=!0,n=!1,r=void 0;try{for(var o,s=et()(t);!(i=(o=s.next()).done);i=!0){var a=o.value;(a={id:a.id,name:nt(a.name)}).name.length>25&&(a.name=a.name.slice(0,22)+"..."),e.push(a)}}catch(t){n=!0,r=t}finally{try{!i&&s.return&&s.return()}finally{if(n)throw r}}return e}function nt(t){if(t.length>20){t=t.split(" ");var e=!0,i=!1,n=void 0;try{for(var r,o=et()(t.slice(1));!(e=(r=o.next()).done);e=!0){var s=r.value;""!==s&&(t[0]+=" "+s[0]+".")}}catch(t){i=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw n}}t=t[0]}return t}function rt(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var s,a=et()(t.slice(0,e));!(n=(s=a.next()).done);n=!0){var l=s.value;l={id:l.id,name:nt(l.name)},i.push(l)}}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return i}var ot={name:"BookPreview",data:function(){return{id:0}},computed:{book_order:function(){return this.info.book_order},book_image:function(){return this.info.skin_image},title:function(){var t=this.info.title;return t?(t.length>41&&(t=t.slice(0,38)+"..."),t):null},title_lines_busy:function(){return this.title?Math.ceil(this.title.length/17):0},authors:function(){if(!this.info.authors)return[];var t=4-this.title_lines_busy;return rt(this.info.authors,t)},book_id:function(){return this.info.id}},methods:{getWidth:function(){return this.$refs.app.clientWidth},getHeight:function(){return this.$refs.app.clientHeight}},props:["info"]},st={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-card",{staticStyle:{height:"300px",width:"200px","border-width":"3px"},attrs:{"border-variant":"primary","no-body":""}},[n("div",{staticClass:"card-header"},[t.book_image?t._e():n("div",[n("img",{attrs:{src:i("+gtf"),width:"110px",height:"165px"}})]),t._v(" "),t.book_image?n("div",[n("img",{attrs:{src:t.book_image,width:"110px",height:"165px"}})]):t._e(),t._v(" "),n("div",[n("router-link",{staticClass:"bookLink",attrs:{to:"/book/"+t.book_id}},[t._v(t._s(t.title))])],1)]),t._v(" "),n("b-card-text",t._l(t.authors,function(e,r){return n("div",[n("img",{attrs:{src:i("/wga"),width:"22px"}}),t._v(" "),n("router-link",{staticClass:"bookLink",attrs:{to:"/author/"+e.id}},[t._v(t._s(e.name))])],1)}),0)],1)],1)},staticRenderFns:[]},at={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-card",{staticStyle:{height:"300px",width:"200px","border-width":"3px"},attrs:{"border-variant":"warning","no-body":""}},[n("div",{staticClass:"card-header",staticStyle:{height:"300px"}},[t.photo?t._e():n("div",[n("img",{attrs:{src:i("7bMF"),width:"150px",height:"225px"}})]),t._v(" "),t.photo?n("div",[n("img",{attrs:{src:t.photo,width:"150px",height:"225px"}})]):t._e(),t._v(" "),n("div",[n("router-link",{staticClass:"bookLink",attrs:{to:"/author/"+t.author_id}},[t._v(t._s(t.author_name))])],1)])])],1)},staticRenderFns:[]},lt={name:"SeriesPreview",data:function(){return{id:0,authors_limit:1}},computed:{series_image:function(){return this.info.skin_image},title:function(){var t=this.info.title;return t?(t.length>25&&(t=t.slice(0,21)+"..."),t):null},books_cnt:function(){return this.info.books_count},title_lines_busy:function(){return this.title?Math.ceil(this.title.length/17):0},authors:function(){if(!this.info.authors)return[];var t=Math.min(this.authors_limit,4-this.title_lines_busy);return rt(this.info.authors,t)},series_id:function(){return this.info.id}},methods:{getWidth:function(){return this.$refs.app.clientWidth},getHeight:function(){return this.$refs.app.clientHeight}},props:["info"]},ct={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-card",{staticStyle:{height:"300px",width:"200px","border-width":"3px"},attrs:{"border-variant":"success","no-body":""}},[n("div",{staticClass:"card-header"},[t.series_image?t._e():n("div",[n("img",{attrs:{src:i("DtXK"),width:"110px",height:"165px"}})]),t._v(" "),t.series_image?n("div",[n("img",{attrs:{src:t.series_image,width:"110px",height:"165px"}})]):t._e(),t._v(" "),n("div",[n("router-link",{staticClass:"bookLink",attrs:{to:"/series/"+t.series_id}},[t._v(t._s(t.title))])],1),t._v(" "),n("div",[n("span",{staticClass:"text-muted"},[t._v("Число книг:")]),t._v(" "),n("span",[t._v(t._s(t.books_cnt))])])]),t._v(" "),n("b-card-text",t._l(t.authors,function(e,r){return n("div",[n("img",{attrs:{src:i("/wga"),width:"25px"}}),t._v(" "),n("router-link",{staticClass:"bookLink",attrs:{to:"/author/"+e.id}},[t._v(t._s(e.name))])],1)}),0)],1)],1)},staticRenderFns:[]},ut={name:"ItemPreview",props:["info"],computed:{item_type:function(){return this.info.type}},components:{BookPreview:i("VU/8")(ot,st,!1,null,null,null).exports,AuthorPreview:i("VU/8")({name:"AuthorPreview",data:function(){return{id:0}},computed:{photo:function(){return this.info.photo},author_name:function(){var t=this.info.name;return t?(t.length>51&&(t=t.slice(0,48)+"..."),t):null},author_id:function(){return this.info.id}},methods:{getWidth:function(){return this.$refs.app.clientWidth},getHeight:function(){return this.$refs.app.clientHeight}},props:["info"]},at,!1,null,null,null).exports,SeriesPreview:i("VU/8")(lt,ct,!1,null,null,null).exports}},dt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",["book"===t.item_type?i("BookPreview",{attrs:{info:t.info}}):t._e(),t._v(" "),"author"===t.item_type?i("AuthorPreview",{attrs:{info:t.info}}):t._e(),t._v(" "),"series"===t.item_type?i("SeriesPreview",{attrs:{info:t.info}}):t._e()],1)},staticRenderFns:[]},pt=i("VU/8")(ut,dt,!1,null,null,null).exports,ht=function(t){function e(t,i){b()(this,e);var n=A()(this,(e.__proto__||g()(e)).call(this,t));return i?(n.id=i.id,n.description=i.description,n.name=i.name,n.photo=i.photo,n.birthdate=i.birthdate,n.country=i.country,n.sex=i.sex,n):A()(n)}return S()(e,t),e}(x),ft=function(t){function e(t,i){b()(this,e);var n=A()(this,(e.__proto__||g()(e)).call(this,t));return i?(n.id=i.id,n.description=i.description,n.title=i.title,n.skin_image=i.skin_image,n.is_finished=i.is_finished,n.books_count=i.books_count,n.authors=i.authors,n):A()(n)}return S()(e,t),e}(x),mt=function(t){function e(t,i){b()(this,e);var n=A()(this,(e.__proto__||g()(e)).call(this,t));return i?(n.id=i.id,n.description=i.description,n.title=i.title,n.skin_image=i.skin_image,n.genres=i.is_finished,n.series=i.series,n.authors=i.authors,n.publications=i.publications,n):A()(n)}return S()(e,t),e}(x),_t=function(t){function e(t,i,n){b()(this,e);var r=A()(this,(e.__proto__||g()(e)).call(this,t));return r.status=i,n?(r.data=n,r):A()(r)}return S()(e,t),e}(x),gt=function(t){function e(t,i){b()(this,e);var n=A()(this,(e.__proto__||g()(e)).call(this,t));return i?(n.items=i,n):A()(n)}return S()(e,t),e}(x),vt=new(function(){function t(){b()(this,t)}return m()(t,[{key:"book",value:function(t,e){s.get("books/"+t,{params:{}}).then(function(t){e(new mt(!0,t.data))}).catch(function(t){console.log(t.message),e(new mt(!1,null))})}},{key:"author",value:function(t,e){s.get("authors/"+t,{params:{}}).then(function(t){e(new ht(!0,t.data))}).catch(function(t){console.log(t.message),e(new ht(!1,null))})}},{key:"series",value:function(t,e){s.get("series/"+t,{params:{}}).then(function(t){e(new ft(!0,t.data))}).catch(function(t){console.log(t.message),e(new ft(!1,null))})}},{key:"book_file",value:function(t,e){var i="books/files/"+t.file_path;s.get(i,{responseType:"blob"}).then(function(t){e(new _t(!0,t.status,t.data))}).catch(function(t){console.log(t.message),e(new _t(!1,t.response.status,null))})}},{key:"recent_viewed",value:function(t,e){s.get("users/recent_viewed",{params:t}).then(function(t){e(new gt(!0,t.data))}).catch(function(t){console.log(t.message),e(new gt(!1,null))})}},{key:"library",value:function(t,e){s.get("library",{params:t}).then(function(t){e(new gt(!0,t.data))}).catch(function(t){console.log(t.message),e(new gt(!1,null))})}}]),t}()),bt={data:function(){return{offset:0,limit:100,all_read:!1,width:window.innerWidth,height:document.documentElement.clientHeight-76,items:[],failed:!1,place_data:{per_row:null,item_width:null,item_height:null,x_first:null,x_space:null,y_first:null,y_space:null}}},created:function(){var t=this;window.addEventListener("resize",this.updateMainSize),this.upload_data(),setTimeout(function(){t.updateMainSize()},300)},watch:{filters:{handler:function(t){this.offset=0,this.all_read=!1,this.items=[],this.upload_data()},deep:!0,immediate:!0}},computed:{have_data:function(){return this.items.length>0}},methods:{upload_data:function(){var t=this;if(!this.all_read){var e={offset:this.offset,limit:this.limit},i=function(e){if(t.failed=!e.ok,!t.failed){for(var i=e.items,n=0;n<i.length;++n)i[n]={data:i[n]};t.all_read=0===i.length,t.items.push.apply(t.items,i),t.$forceUpdate()}};!0===this.filters.ready?i(this.filters.collection):!0===this.filters.recent_viewed?vt.recent_viewed(e,i):(e=$()({},e,this.filters),vt.library(e,i)),this.offset+=this.limit,this.$forceUpdate()}},define_place_params:function(t){this.place_data.item_height=300,this.place_data.item_width=200;var e=this.place_data.item_width;this.place_data.per_row=Math.floor(this.width/(1.1*e)),this.place_data.x_first=10,this.place_data.x_space=(.98*this.width-2*this.place_data.x_first-this.place_data.per_row*e)/(this.place_data.per_row-1),this.place_data.y_first=10,this.place_data.y_space=10},cellSizeAndPositionGetter:function(t,e){null===this.place_data.per_row&&this.define_place_params(t);var i=this.place_data.item_width,n=this.place_data.item_height,r=this.place_data.per_row,o=this.place_data.x_first,s=this.place_data.y_first,a=this.place_data.x_space,l=this.place_data.y_space;return{width:i,height:n,x:o+e%r*(i+a),y:s+Math.floor(e/r)*(n+l)}},updateMainSize:function(){document.getElementById("virt-coll")&&(this.width=window.innerWidth,this.height=document.documentElement.clientHeight-76,this.place_data.per_row=null,this.$forceUpdate())}},components:{ItemPreview:pt},props:["filters"]},kt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.have_data?i("VirtualCollection",{attrs:{id:"virt-coll",cellSizeAndPositionGetter:t.cellSizeAndPositionGetter,collection:t.items,height:t.height,width:t.width,scrollToBottomRange:1e3},on:{"scrolled-to-bottom-range":t.upload_data},scopedSlots:t._u([{key:"cell",fn:function(t){return i("div",{},[i("ItemPreview",{attrs:{info:t.data}})],1)}}],null,!1,2243563484)}):t._e(),t._v(" "),t.have_data?t._e():i("div",{staticStyle:{"margin-top":"50px"}},[t._v("\n    Информация по запросу не найдена\n  ")])],1)},staticRenderFns:[]},At=i("VU/8")(bt,kt,!1,null,null,null).exports,wt={components:{PreviewCollection:At},created:function(){this.set_route_query(!0)},updated:function(){this.set_route_query(!1)},computed:{search_filters:function(){return this.$store.state.filters.filters}},methods:{set_route_query:function(t){var e=this.$route.query;0!==N()(e).length&&t?this.$store.dispatch("filters/set_filters",e):this.$router.replace({name:"Main",query:this.search_filters})}}},St={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("PreviewCollection",{attrs:{filters:this.search_filters}})],1)},staticRenderFns:[]},xt=i("VU/8")(wt,St,!1,null,null,null).exports,Ct={data:function(){return{name:"",last_name:"",email:"",login:"",password:"",avatar:"",filters:{recent_viewed:!0}}},computed:{avatar_computed:function(){return this.avatar?this.avatar:null},full_name:function(){return this.name+" "+this.last_name}},created:function(){var t=this;c("view_account");var e=function(e){t.name=e.name,t.last_name=e.last_name,t.email=e.email,t.login=e.login,t.password=e.password,t.avatar=e.avatar},i=this.$store.state.account.user_info;i?e(i):(R(this),setTimeout(function(){i=t.$store.state.account.user_info,e(i)},1e3))},methods:{edit_profile:function(){this.$router.push({name:"edit_profile"})}},components:{PreviewCollection:At}},yt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-card",{staticClass:"mb-3",staticStyle:{width:"600px","margin-left":"10px","margin-top":"10px"},attrs:{"img-left":""}},[n("b-row",[n("b-col",[t.avatar_computed?t._e():n("img",{attrs:{src:i("/+hy"),width:"200px",height:"300px"}}),t._v(" "),t.avatar_computed?n("img",{attrs:{src:t.avatar_computed,width:"200px",height:"300px"}}):t._e()]),t._v(" "),n("b-col",[n("b-card-body",{attrs:{title:t.full_name}},[n("b-card-text",[t.email?n("b-row",[n("span",{staticClass:"text-muted"},[t._v("Почта: ")]),t._v(" "),n("span",[t._v(t._s(t.email))])]):t._e(),t._v(" "),t.login?n("b-row",[n("span",{staticClass:"text-muted"},[t._v("Логин: ")]),t._v(" "),n("span",[t._v(t._s(t.login))])]):t._e(),t._v(" "),t.password?n("b-row",[n("span",{staticClass:"text-muted"},[t._v("Пароль: ")]),t._v(" "),n("span",[t._v(t._s(t.password))])]):t._e(),t._v(" "),n("b-row",[n("router-link",{attrs:{to:"/report"}},[t._v("Сгенерировать отчет")])],1)],1)],1)],1)],1)],1),t._v(" "),n("div",{staticStyle:{"margin-top":"10px"}},[n("h4",{attrs:{align:"center"}},[t._v("Недавно просмотренное:")]),t._v(" "),n("div",[n("PreviewCollection",{attrs:{filters:t.filters}})],1)])],1)},staticRenderFns:[]},It=i("VU/8")(Ct,yt,!1,null,null,null).exports,Jt={data:function(){return{}},computed:{},created:function(){var t=this,e=this.$route.query;F.get_token(e.code,function(e){e.ok&&(a(e.id_token),t.$store.dispatch("account/login"),R(t),c("login"),t.checkToken())})},mounted:function(){this.checkToken()},methods:{checkToken:function(){var t=localStorage.getItem("auth_token");console.log(t),t&&this.$router.push("/main").catch(function(){})}}},Et={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n  Это страница для обработки OIDC-запроса. Если вы ее видите - запрос на авторизацию был завершен с ошибкой.\n")])},staticRenderFns:[]},Bt=i("VU/8")(Jt,Et,!1,null,null,null).exports,Zt=i("0zwa"),Dt={name:"Book",data:function(){return{id:null,info:{},filters:{},publication:void 0,download_error:void 0}},components:{CountryFlag:Zt.a},watch:{"$route.params.id":{handler:function(t){this.load_data(),this.download_error=void 0},deep:!0,immediate:!0}},computed:{book_order:function(){return this.info.book_order},series:function(){var t=this.info.series;return t?(t.title.length>25&&(t.title=t.title.slice(0,22)+"..."),t):null},publ_files:function(){if(this.publication)return this.publication.files},publ_info:function(){if(this.publication){var t=this.publication.info;return this.publication.isbn&&(t.ISBN=this.publication.isbn),this.publication.isbn13&&(t["ISBN-13"]=this.publication.isbn13),this.publication.publication_year&&(t["год публикации"]=this.publication.publication_year),t}},publ_dropdown_title:function(){return this.publ_repr(this.publication)},publ_dropdown_lang:function(){return this.publ_lang(this.publication)},publications:function(){return this.info.publications},authors:function(){return it(this.info.authors)},skin_image:function(){return this.info.skin_image},title:function(){return this.info.title},description:function(){var t=this.info.description;return t||"Информации о книге нет"}},methods:{change_publication:function(t){this.publication=this.publications[t]},download:function(t){var e=this,i=this.publication.files[t];vt.book_file(i,function(t){if(!t.ok)return console.log(t),void(401===t.status?e.download_error="чтобы скачать книгу, необходимо авторизоваться":e.download_error="файл недоступен");e.download_error=void 0;var n=window.URL.createObjectURL(new Blob([t.data])),r=document.createElement("a");r.href=n,r.setAttribute("download",i.file_path),document.body.appendChild(r),r.click(),document.body.removeChild(r),c("download_book",{book_id:e.id,file:i})})},load_data:function(){var t=this;this.id=this.$route.params.id;vt.book(this.id,function(e){t.info=e,t.publication=e.publications[0],c("view_book",{book_id:Number(t.id)})})},publ_repr:function(t){if(t){var e=this.title;return e.length>25&&(e=this.title.slice(0,22)+"..."),e+" "+t.language_code}},publ_lang:function(t){if(t)return function(t){switch(t){case"ru":return"ru";case"en":return"gb";case"de":return"de"}}(t.language_code)}}},Ft={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row",staticStyle:{"max-width":"100%"}},[n("b-card",{staticClass:"mb-3",staticStyle:{width:"600px","margin-left":"30px","margin-top":"10px"},attrs:{"img-left":""}},[n("b-row",[n("b-col",[t.skin_image?t._e():n("img",{attrs:{src:i("+gtf"),width:"200px",height:"300px"}}),t._v(" "),t.skin_image?n("img",{attrs:{src:t.skin_image,width:"200px",height:"300px"}}):t._e()]),t._v(" "),n("b-col",[n("b-card-body",{attrs:{title:t.title}},[n("b-card-text",[t.book_order?n("b-row",[n("span",{staticClass:"text-muted"},[t._v("номер книги в серии: ")]),t._v(" "),n("span",[t._v(t._s(t.book_order))])]):t._e(),t._v(" "),t.series?n("b-row",[n("img",{attrs:{src:i("F+aY"),width:"25px",height:"25px"}}),t._v(" "),n("router-link",{staticClass:"bookLink",attrs:{to:"/series/"+t.series.id}},[t._v(t._s(t.series.title))])],1):t._e(),t._v(" "),n("b-row",t._l(t.authors,function(e,r){return n("div",{staticStyle:{clear:"both"}},[n("div",{staticStyle:{"margin-right":"20px"}},[n("img",{attrs:{src:i("/wga"),width:"25px"}}),t._v(" "),n("router-link",{staticClass:"bookLink",attrs:{to:"/author/"+e.id}},[t._v(t._s(e.name))])],1)])}),0)],1)],1)],1)],1)],1),t._v(" "),n("b-card",{staticClass:"mb-3",staticStyle:{width:"600px","margin-left":"10px","margin-top":"10px"},attrs:{"img-left":""}},[n("b-row",[n("b-col",[n("b-card-body",{attrs:{title:"Публикации"}},[n("b-dropdown",{staticStyle:{"margin-bottom":"10px"},attrs:{text:"Left align",variant:"outline-primary"},scopedSlots:t._u([{key:"button-content",fn:function(){return[t._v("\n                "+t._s(t.publ_dropdown_title)+"\n                "),n("country-flag",{attrs:{country:t.publ_dropdown_lang,size:"normal"}})]},proxy:!0}])},[t._v(" "),t._l(t.publications,function(e,i){return n("div",[n("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){return t.change_publication(i)}}},[t._v("\n                  "+t._s(t.publ_repr(e))+"\n                  "),n("country-flag",{attrs:{country:t.publ_lang(e),size:"normal"}})],1)],1)})],2),t._v(" "),t._l(t.publ_info,function(e,i){return n("div",[n("b-row",[n("span",{staticClass:"text-muted"},[t._v(t._s(i)+": ")]),t._v(" "),n("span",[t._v(t._s(e))])])],1)}),t._v(" "),n("div",{staticStyle:{"margin-bottom":"10px","margin-top":"20px"}},[t._v("\n              Скачать книгу:\n            ")]),t._v(" "),n("b-button-group",t._l(t.publ_files,function(e,i){return n("div",{staticStyle:{"margin-left":"10px"}},[n("b-button",{attrs:{variant:"outline-primary"},on:{click:function(e){return t.download(i)}}},[t._v(t._s(e.file_type)+"\n                ")])],1)}),0),t._v(" "),t.download_error?n("div",{staticStyle:{"margin-bottom":"10px","margin-top":"20px",color:"firebrick"}},[t._v("\n              "+t._s(t.download_error)+"\n            ")]):t._e()],2)],1)],1)],1)],1),t._v(" "),n("b-card",{staticStyle:{"margin-left":"10px","max-width":"95%"}},[n("b-row",[n("b-card-body",{attrs:{title:"О книге"}},[n("b-card-text",[n("pre",[t._v(t._s(t.description))])])],1)],1)],1)],1)},staticRenderFns:[]},Rt=i("VU/8")(Dt,Ft,!1,null,null,null).exports,Qt={name:"Author",data:function(){return{id:null,info:{},filters:{author_id:this.id,find_book:!0,find_series:!0}}},watch:{"$route.params.id":{handler:function(t){this.load_data(),this.filters={author_id:t,find_book:!0,find_series:!0}},deep:!0,immediate:!0}},computed:{sex:function(){return this.info.sex},photo:function(){return this.info.photo},name:function(){return this.info.name},bdate:function(){var t=this.info.birthdate;return t?new Date(t).toLocaleDateString():null},description:function(){var t=this.info.description;return t||"Информации об авторе нет"}},components:{PreviewCollection:At},methods:{load_data:function(){var t=this;this.id=this.$route.params.id;vt.author(this.id,function(e){t.info=e,c("view_author",{author_id:Number(t.id)})})}}},Ut={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-card",{staticClass:"mb-3",staticStyle:{width:"600px","margin-left":"10px","margin-top":"10px"},attrs:{"img-left":""}},[n("b-row",[n("b-col",[t.photo?t._e():n("img",{attrs:{src:i("7bMF"),width:"200px",height:"300px"}}),t._v(" "),t.photo?n("img",{attrs:{src:t.photo,width:"200px",height:"300px"}}):t._e()]),t._v(" "),n("b-col",[n("b-card-body",{attrs:{title:t.name}},[n("b-card-text",[t.sex?n("b-row",[n("span",{staticClass:"text-muted"},[t._v("Пол: ")]),t._v(" "),n("span",[t._v(t._s(t.sex))])]):t._e(),t._v(" "),t.bdate?n("b-row",[n("span",{staticClass:"text-muted"},[t._v("Дата рождения: ")]),t._v(" "),n("span",[t._v(t._s(t.bdate))])]):t._e()],1)],1)],1)],1)],1),t._v(" "),n("b-card",{staticStyle:{"margin-left":"10px","max-width":"95%"}},[n("b-row",[n("b-card-body",{attrs:{title:"Об авторе"}},[n("b-card-text",[n("pre",{attrs:{align:"left"}},[t._v(t._s(t.description))])])],1)],1)],1),t._v(" "),n("div",{staticStyle:{"margin-top":"10px"}},[n("h4",{attrs:{align:"center"}},[t._v("Написанные книги:")]),t._v(" "),n("div",[n("PreviewCollection",{attrs:{filters:t.filters}})],1)])],1)},staticRenderFns:[]},Vt=i("VU/8")(Qt,Ut,!1,null,null,null).exports,Ot={name:"Series",data:function(){return{id:null,info:{},filters:{series_id:this.id,find_book:!0,sort:"series_order"}}},watch:{"$route.params.id":{handler:function(t){this.load_data(),this.filters={series_id:t,find_book:!0,sort:"series_order"}},deep:!0,immediate:!0}},computed:{authors:function(){return it(this.info.authors)},skin_image:function(){return this.info.skin_image},name:function(){return this.info.title},books_cnt:function(){return this.info.books_count},finished:function(){var t=this.info.is_finished;return!0===t?"да":!1===t?"нет":"неизвестно"},description:function(){var t=this.info.description;return t||"Информации о серии книг нет"}},components:{PreviewCollection:At},methods:{load_data:function(){var t=this;this.id=this.$route.params.id;vt.series(this.id,function(e){t.info=e,c("view_series",{series_id:Number(t.id)})})}}},qt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-card",{staticClass:"mb-3",staticStyle:{width:"600px","margin-left":"10px","margin-top":"10px"},attrs:{"img-left":""}},[n("b-row",[n("b-col",[t.skin_image?t._e():n("img",{attrs:{src:i("DtXK"),width:"200px",height:"300px"}}),t._v(" "),t.skin_image?n("img",{attrs:{src:t.skin_image,width:"200px",height:"300px"}}):t._e()]),t._v(" "),n("b-col",[n("b-card-body",{attrs:{title:t.name}},[n("b-card-text",[t.finished?n("b-row",[n("span",{staticClass:"text-muted"},[t._v("Закончена: ")]),t._v(" "),n("span",[t._v(t._s(t.finished))])]):t._e(),t._v(" "),t.books_cnt?n("b-row",[n("span",{staticClass:"text-muted"},[t._v("Количество книг: ")]),t._v(" "),n("span",[t._v(t._s(t.books_cnt))])]):t._e(),t._v(" "),n("b-row",t._l(t.authors,function(e,r){return n("div",[n("div",{staticStyle:{"margin-right":"20px"}},[n("img",{attrs:{src:i("/wga"),width:"25px"}}),t._v(" "),n("router-link",{staticClass:"bookLink",attrs:{to:"/author/"+e.id}},[t._v(t._s(e.name))])],1)])}),0)],1)],1)],1)],1)],1),t._v(" "),n("b-card",{staticStyle:{"margin-left":"10px","max-width":"95%"}},[n("b-row",[n("b-card-body",{attrs:{title:"О серии"}},[n("b-card-text",[n("pre",[t._v(t._s(t.description))])])],1)],1)],1),t._v(" "),n("div",{staticStyle:{"margin-top":"10px"}},[n("h4",{attrs:{align:"center"}},[t._v("Книги серии:")]),t._v(" "),n("div",[n("PreviewCollection",{attrs:{filters:t.filters}})],1)])],1)},staticRenderFns:[]},Pt=i("VU/8")(Ot,qt,!1,null,null,null).exports,Lt={data:function(){return{form:{name:"",last_name:"",email:"",login:"",old_password:"",new_password:"",repeated_password:""},failed:""}},created:function(){var t=this,e=this.$store.state.account.user_info,i=function(e){t.form.name=e.name,t.form.last_name=e.last_name,t.form.email=e.email,t.form.login=e.login};e?i(e):(R(this),setTimeout(function(){e=t.$store.state.account.user_info,i(e)},1e3))},computed:{check_password:function(){return 0===this.form.new_password.length||this.form.new_password.length>=6},check_password_eq:function(){return this.form.new_password===this.form.repeated_password}},methods:{on_delete:function(t){var e=this;t.preventDefault();confirm("Вы уверены, что хотите удалить аккаунт?")&&confirm("... точно уверены?")&&F.delete_profile(function(t){e.failed=t.reason,e.failed||(e.$store.dispatch("account/logout"),c("register"),setTimeout(l,3e3),e.$router.push("main"))})},on_submit:function(t){var e=this;if(t.preventDefault(),"delete"!==t.submitter.value){var i=new FormData,n=document.querySelector("#file");i.append("avatar",n.files[0]),i.append("name",this.form.name),i.append("last_name",this.form.last_name),i.append("email",this.form.email),i.append("login",this.form.login),i.append("password",this.form.old_password),i.append("new_password",this.form.new_password);F.update_profile(i,function(t){e.failed=t.reason,e.failed||(R(e),c("edit_profile"),e.$router.push("main"))})}else this.on_delete(t)}}},Ht={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("span",{staticClass:"before"}),t._v(" "),i("div",{staticClass:"d-flex align-items-center justify-content-center",staticStyle:{width:"100%",height:"100%",display:"inline-block","vertical-align":"middle"}},[i("b-form",{on:{submit:t.on_submit}},[i("b-form-group",{attrs:{id:"input-group-7",label:"Фото:","label-for":"input-7","label-align":"right","content-cols":"8"}},[i("b-form-file",{staticStyle:{"max-width":"400px"},attrs:{id:"file",placeholder:"Выберите фото"}})],1),t._v(" "),i("b-form-group",{attrs:{id:"input-group-1",label:"Имя:","label-for":"input-1","label-align":"right","content-cols":"8"}},[i("b-form-input",{attrs:{id:"input-1",placeholder:"Введите имя",required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),i("b-form-group",{attrs:{id:"input-group-6",label:"Фамилия:","label-for":"input-6","label-align":"right","content-cols":"8"}},[i("b-form-input",{attrs:{id:"input-6",placeholder:"Введите фамилию",required:""},model:{value:t.form.last_name,callback:function(e){t.$set(t.form,"last_name",e)},expression:"form.last_name"}})],1),t._v(" "),i("b-form-group",{attrs:{id:"input-group-2",label:"Логин:","label-for":"input-2","label-align":"right","content-cols":"8"}},[i("b-form-input",{attrs:{id:"input-2",placeholder:"Введите логин",required:"",disabled:""},model:{value:t.form.login,callback:function(e){t.$set(t.form,"login",e)},expression:"form.login"}})],1),t._v(" "),i("b-form-group",{attrs:{id:"input-group-3",label:"Эл. почта:","label-for":"input-3","label-align":"right","content-cols":"8"}},[i("b-form-input",{attrs:{id:"input-3",type:"email",placeholder:"Введите эл. почту",required:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),t._v(" "),i("b-form-group",{attrs:{id:"input-group-4",label:"Текущий пароль:","label-for":"input-4","label-align":"right","content-cols":"8"}},[i("b-form-input",{attrs:{id:"input-4","aria-describedby":"input-live-help password-feedback",placeholder:"Введите текущий пароль",type:"password",required:""},model:{value:t.form.old_password,callback:function(e){t.$set(t.form,"old_password",e)},expression:"form.old_password"}})],1),t._v(" "),i("b-form-group",{attrs:{id:"input-group-4",label:"Новый пароль:","label-for":"input-4","label-align":"right","content-cols":"8"}},[i("b-form-input",{attrs:{id:"input-4",state:t.check_password,"aria-describedby":"input-live-help password-feedback",placeholder:"Введите новый пароль",type:"password"},model:{value:t.form.new_password,callback:function(e){t.$set(t.form,"new_password",e)},expression:"form.new_password"}}),t._v(" "),0===this.form.new_password.length?i("div",{staticClass:"text-muted",staticStyle:{"font-size":"14px"}},[t._v("*Не заполняйте,\n          если не хотите менять пароль\n        ")]):t._e(),t._v(" "),i("b-form-invalid-feedback",{attrs:{id:"password-feedback"}},[t._v("\n          Пароль должен быть не короче 6 символов\n        ")])],1),t._v(" "),i("b-form-group",{attrs:{id:"input-group-5",label:"Подтвердите новый пароль:","label-for":"input-5","label-align":"right","content-cols":"8"}},[i("b-form-input",{attrs:{id:"input-5",state:t.check_password_eq,"aria-describedby":"input-live-help password-eq-feedback",placeholder:"Введите пароль еще раз",type:"password"},model:{value:t.form.repeated_password,callback:function(e){t.$set(t.form,"repeated_password",e)},expression:"form.repeated_password"}}),t._v(" "),i("b-form-invalid-feedback",{attrs:{id:"password-eq-feedback"}},[t._v("\n          Пароли должны совпадать\n        ")])],1),t._v(" "),t.failed?i("p",{staticClass:"error_logging"},[t._v(" Некорректный пароль ")]):t._e(),t._v(" "),i("b-button",{attrs:{type:"submit",value:"update",block:"",variant:"primary"}},[t._v("Обновить профиль")]),t._v(" "),i("b-button",{attrs:{type:"submit",value:"delete",block:"",variant:"danger"}},[t._v("Удалить профиль")]),t._v(" "),i("div",[i("a",{staticStyle:{color:"black",cursor:"pointer"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("отмена")])])],1)],1)])},staticRenderFns:[]},Tt=(i("VU/8")(Lt,Ht,!1,null,null,null).exports,i("AA8V")),jt=i.n(Tt),zt=(i("DQ9D"),{data:function(){var t=new Date;return t.setDate(t.getDate()-7),{failed:!1,date_to:(new Date).toISOString().slice(0,10),date_from:t.toISOString().slice(0,10),report:void 0,filters:{ready:!0,collection:{ok:"true",items:[]}}}},computed:{from_timestamp:function(){var t=this.date_from.split("-"),e=new Date(t[0],t[1]-1,t[2]);return Math.floor(e.getTime()/1e3)},to_timestamp:function(){var t=this.date_to.split("-"),e=new Date(t[0],t[1]-1,t[2]);return Math.floor(e.getTime()/1e3)+86400}},methods:{on_submit:function(t){var e=this;t.preventDefault(),this.report=void 0,this.filters.collection.items=[];F.generate_report(this.from_timestamp,this.to_timestamp,function(t){e.failed=!t.ok,e.failed||(e.filters.collection.items=t.most_frequent_entities,e.report=t)})}},components:{PreviewCollection:At,DatePick:jt.a}}),Mt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-card",{staticClass:"mb-3",staticStyle:{width:"600px","margin-left":"10px","margin-top":"10px"},attrs:{"img-left":""}},[i("b-row",[i("span",{staticClass:"before"}),t._v(" "),i("div",{staticClass:"d-flex align-items-center justify-content-center",staticStyle:{width:"100%",height:"100%",display:"inline-block","vertical-align":"middle"}},[i("b-form",{on:{submit:t.on_submit}},[i("b-form-group",{attrs:{id:"input-group-1",label:"Время начала:","label-for":"input-1","label-align":"right","content-cols":"16"}},[i("date-pick",{model:{value:t.date_from,callback:function(e){t.date_from=e},expression:"date_from"}})],1),t._v(" "),i("b-form-group",{attrs:{id:"input-group-2",label:"Время конца:","label-for":"input-2","label-align":"right","content-cols":"16"}},[i("date-pick",{model:{value:t.date_to,callback:function(e){t.date_to=e},expression:"date_to"}})],1),t._v(" "),t.failed?i("p",{staticClass:"error_logging"},[t._v(" Недостаточно прав ")]):t._e(),t._v(" "),i("b-button",{attrs:{type:"submit",value:"update",block:"",variant:"primary"}},[t._v("Создать отчет")]),t._v(" "),i("div",[i("a",{staticStyle:{color:"black",cursor:"pointer"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("назад")])])],1)],1)])],1),t._v(" "),i("div",{staticStyle:{"margin-top":"60px"}},[this.report?i("div",[i("div",[i("p",{attrs:{align:"left"}},[t._v("Количество скачиваний книг: "+t._s(this.report.downloads_cnt))])]),t._v(" "),i("div",{attrs:{align:"left"}},[i("p",[t._v("Поисковые запросы:")]),t._v(" "),i("ul",[i("li",[t._v("Количество запросов: "+t._s(this.report.search_cnt))]),t._v(" "),i("li",[t._v("Самый популярный запрос: "+t._s(this.report.most_frequent_search))])])]),t._v(" "),i("div",{attrs:{align:"left"}},[i("p",[t._v("Количество просмотров:")]),t._v(" "),i("ul",[i("li",[t._v("Всего: "+t._s(this.report.views_cnt.total))]),t._v(" "),i("li",[t._v("Книг: "+t._s(this.report.views_cnt.books))]),t._v(" "),i("li",[t._v("Авторов: "+t._s(this.report.views_cnt.authors))]),t._v(" "),i("li",[t._v("Серий книг: "+t._s(this.report.views_cnt.series))])])])]):t._e(),t._v(" "),this.filters.collection.items.length>0?i("div",[i("p",{attrs:{align:"left"}},[t._v("Самое популярное за период:")]),t._v(" "),i("div",[i("PreviewCollection",{attrs:{filters:t.filters}})],1)]):t._e()])],1)},staticRenderFns:[]},Kt=i("VU/8")(zt,Mt,!1,null,null,null).exports;r.default.use(P.a);var Wt=new P.a({mode:"history",routes:[{path:"/",redirect:"/home"},{path:"/home",name:"Home",component:H},{path:"/auth",name:"Auth",component:K},{path:"/main",name:"Main",component:xt},{path:"/account",name:"Account",component:It},{path:"/auth_callback",name:"AuthCallback",component:Bt},{path:"/book/:id",component:Rt},{path:"/author/:id",component:Vt},{path:"/series/:id",component:Pt},{path:"/report",component:Kt}]}),Gt=i("NYxO");const Yt={namespaced:!0,state:{logged_in:!1,user_info:null},actions:{login({commit:t}){t("login")},logout({commit:t}){t("logout")},user_info({commit:t},e){t("user_info",e)}},mutations:{login(t){t.logged_in=!0},logout(t){t.logged_in=!1,t.user_info=null},user_info(t,e){t.user_info=e}}},Nt={namespaced:!0,state:{search:null,filters:null},actions:{set_search({commit:t},e){t("set_search",e)},set_filters({commit:t},e){t("set_filters",e,!1)},extend_filters({commit:t},e){t("extend_filters",e,!0)}},mutations:{set_search(t,e){t.search=e,t.filters.search=e},set_filters(t,e){t.filters=e},extend_filters(t,e){t.filters=Object.assign({},t.filters,e)}}};r.default.use(Gt.a);var Xt=new Gt.a.Store({modules:{account:Yt,filters:Nt}}),$t=i("ZRK/"),te=i.n($t);r.default.use(n.a),r.default.component("vue-country-flag",Zt.a),r.default.use(te.a),r.default.config.productionTip=!1,new r.default({el:"#app",store:Xt,router:Wt,components:{App:q},template:"<App/>"})},RSrH:function(t,e){t.exports={name:"dotenv",version:"16.0.3",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{require:"./lib/main.js",types:"./lib/main.d.ts",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard","lint-readme":"standard-markdown",pretest:"npm run lint && npm run dts-check",test:"tap tests/*.js --100 -Rspec",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@types/node":"^17.0.9",decache:"^4.6.1",dtslint:"^3.7.0",sinon:"^12.0.1",standard:"^16.0.4","standard-markdown":"^7.1.0","standard-version":"^9.3.2",tap:"^15.1.6",tar:"^6.1.11",typescript:"^4.5.4"},engines:{node:">=12"}}},XJ9U:function(t,e){},XQ2P:function(t,e){},crIH:function(t,e,i){t.exports=i.p+"static/img/qrook.8f13dd2.png"}},["NHnr"]);
//# sourceMappingURL=app.eabd1ce1400543e7b01e.js.map